(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{370:function(e,v,_){"use strict";_.r(v);var t=_(43),r=Object(t.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h2",{attrs:{id:"浏览器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器"}},[e._v("#")]),e._v(" 浏览器")]),e._v(" "),_("h3",{attrs:{id:"主流浏览器内核"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#主流浏览器内核"}},[e._v("#")]),e._v(" 主流浏览器内核")]),e._v(" "),_("ul",[_("li",[e._v("类型\n"),_("ul",[_("li",[e._v("Trident -> IE")]),e._v(" "),_("li",[e._v("Geck -> Firefox")]),e._v(" "),_("li",[e._v("Webkit -> Safari")]),e._v(" "),_("li",[e._v("Chromium/Blink -> Chrome")]),e._v(" "),_("li",[e._v("Presto -> Opera")])])]),e._v(" "),_("li",[e._v("移动端\n"),_("ul",[_("li",[e._v("iOS/iPad主要是Webkit")]),e._v(" "),_("li",[e._v("Android4.4之前是Webkit, Android4.4之后是Chromium，内核是Webkit的分支Blink")])])])]),e._v(" "),_("h3",{attrs:{id:"浏览器的组成？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的组成？"}},[e._v("#")]),e._v(" 浏览器的组成？")]),e._v(" "),_("ul",[_("li",[e._v("用户界面\n"),_("ul",[_("li",[e._v("地址栏")]),e._v(" "),_("li",[e._v("前进/后退按钮")]),e._v(" "),_("li",[e._v("书签菜单")])])]),e._v(" "),_("li",[e._v("呈现引擎：负责显示请求的内容\n"),_("ul",[_("li",[e._v("如：解析 HTML 和 CSS 后，呈现到用户屏幕")])])]),e._v(" "),_("li",[e._v("浏览器引擎：在用户界面和呈现引擎之间传递指令")]),e._v(" "),_("li",[e._v("网络：网络调用\n"),_("ul",[_("li",[e._v("如：HTTP 请求")])])]),e._v(" "),_("li",[e._v("用户界面后端：用于绘制基本窗口的小部件\n"),_("ul",[_("li",[e._v("如：组合框和窗口")])])]),e._v(" "),_("li",[e._v("JavaScript 解释器：解析和执行 JavaScript 代码")]),e._v(" "),_("li",[e._v("数据存储：持久层\n"),_("ul",[_("li",[e._v("浏览器需要在硬盘上保存的各种数据，例如 Cookies")])])])]),e._v(" "),_("h3",{attrs:{id:"浏览器是如何渲染ui的？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器是如何渲染ui的？"}},[e._v("#")]),e._v(" 浏览器是如何渲染UI的？")]),e._v(" "),_("ul",[_("li",[e._v("解析 HTML 生成 DOM Tree")]),e._v(" "),_("li",[e._v("解析 CSS 生成 Style Rules")]),e._v(" "),_("li",[e._v("合并 HTML 和 CSS，生成 Render Tree")]),e._v(" "),_("li",[e._v("进入 layout 阶段，为每个节点在屏幕上分配相应的坐标")]),e._v(" "),_("li",[e._v("调用 GPU 进行绘制（Paint），遍历 Render Tree，将 DOM 呈现出来")])]),e._v(" "),_("h3",{attrs:{id:"浏览器如何解析-css-选择器？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器如何解析-css-选择器？"}},[e._v("#")]),e._v(" 浏览器如何解析 CSS 选择器？")]),e._v(" "),_("ul",[_("li",[e._v("按照 "),_("strong",[e._v("从右向左")]),e._v(" 的规则进行解析的")]),e._v(" "),_("li",[e._v("Style Rules 和 DOM Tree 合并成 Render Tree 的过程\n"),_("ul",[_("li",[e._v("合并的过程，需要遍历 DOM Tree，才能将相应的样式附着在 DOM 上")])])]),e._v(" "),_("li",[e._v("为什么不是 "),_("em",[e._v("从右向左")]),e._v(" "),_("ul",[_("li",[_("em",[e._v("从右向左")]),e._v(" 的话，遍历 DOM，会从根部开始从上至下进行遍历，会进行一些无用节点的遍历")]),e._v(" "),_("li",[_("em",[e._v("从右向左")]),e._v(" 的话，遍历 DOM，会从最底部向上进行遍历，直接找到都是相关的父节点，没有无用的遍历，效率较高")])])])]),e._v(" "),_("h3",{attrs:{id:"dom-tree-如何构建的？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#dom-tree-如何构建的？"}},[e._v("#")]),e._v(" DOM Tree 如何构建的？")]),e._v(" "),_("ul",[_("li",[e._v("转码：浏览器将接受到的二进制数据转换成 HTML 字符串")]),e._v(" "),_("li",[e._v("生成 Tokens：根据 HTML 字符串，生成相应的 Tokens\n"),_("ul",[_("li",[e._v("Tokens 就是 startTag，或者 endTag")])])]),e._v(" "),_("li",[e._v("生成 Nodes：对 Node 添加相应的属性，通过指针找出 Node的父、子、兄弟节点，")]),e._v(" "),_("li",[e._v("生成 DOM Tree：通过指针确定的关系生成 DOM Tree")])]),e._v(" "),_("h3",{attrs:{id:"浏览器的重绘和重排的区别？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的重绘和重排的区别？"}},[e._v("#")]),e._v(" 浏览器的重绘和重排的区别？")]),e._v(" "),_("ul",[_("li",[e._v("重排：部分/全部渲染树重新绘制，节点尺寸重新计算\n"),_("ul",[_("li",[e._v("表现为：重新生成布局，重新排序列表")])])]),e._v(" "),_("li",[e._v("重绘：由于节点的几何属性发生改变、或样式发生改变\n"),_("ul",[_("li",[e._v("表现为：某些元素的外观被改变。\n"),_("ul",[_("li",[e._v("例如：改变背景颜色时，布局内容需要更新")])])])])]),e._v(" "),_("li",[e._v("关系\n"),_("ul",[_("li",[e._v("重绘不一定重排，重排一定会发生重绘")])])])]),e._v(" "),_("h3",{attrs:{id:"触发重绘-重排的操作？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#触发重绘-重排的操作？"}},[e._v("#")]),e._v(" 触发重绘/重排的操作？")]),e._v(" "),_("ul",[_("li",[e._v("添加、删除或更改一个 DOM")]),e._v(" "),_("li",[e._v("通过 "),_("code",[e._v("display: none")]),e._v(" 操作某一个 DOM")]),e._v(" "),_("li",[e._v("设置 "),_("code",[e._v("visiblity: none")]),e._v("，只会引起重绘")]),e._v(" "),_("li",[e._v("移动 DOM 节点，或添加动画")]),e._v(" "),_("li",[e._v("用户行为，滚动鼠标、缩放页面、改变浏览器窗口")])]),e._v(" "),_("h3",{attrs:{id:"如何避免重绘、或重排"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何避免重绘、或重排"}},[e._v("#")]),e._v(" 如何避免重绘、或重排")]),e._v(" "),_("ul",[_("li",[e._v("通过 Class 集中更改样式")]),e._v(" "),_("li",[e._v("通过 DocumentFragment\n"),_("ul",[_("li",[e._v("创建一个游离节点之外的，进行批量操作，最后一次插入到 DOM 树中，只触发一次重排")])])]),e._v(" "),_("li",[e._v("提升为合成层\n"),_("ul",[_("li",[e._v("关于合成层\n"),_("ul",[_("li",[e._v("更多见："),_("a",{attrs:{href:"https://fed.taobao.org/blog/2016/04/26/performance-composite/",target:"_blank",rel:"noopener noreferrer"}},[e._v("无线性能优化：Composite"),_("OutboundLink")],1),e._v(" "),_("blockquote",[_("p",[e._v("（讨论 translateZ(0) 进行 GPU 加速问题的讨论）")])])])])])])])]),e._v(" "),_("h2",{attrs:{id:"参考资料"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[e._v("#")]),e._v(" 参考资料")]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://segmentfault.com/a/1190000013794163",target:"_blank",rel:"noopener noreferrer"}},[e._v("前端面试题-主流浏览器内核"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://www.cxymsg.com/guide/browser.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("浏览器与新技术#cxymsg"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/createDocumentFragment",target:"_blank",rel:"noopener noreferrer"}},[e._v("createDocumentFragment#mdn"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Reflow",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reflow#mdn"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=r.exports}}]);