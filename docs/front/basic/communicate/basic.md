---
title: 1. 通讯-HTTP基础
---

## 通讯基础
### HTTP 请求方法有哪些?
- HTTP1.0
    - GET
    - POST
    - HEAD
- HTTP1.1
    - OPTIONS
    - PUT
    - DELETE
    - TRACE
    - CONNECT

### GET 和 POST 的区别
- 数据传输方式不一样
    - GET 通过 URL 传输, POST 通过请求体传输
- 安全性不同
    - POST 因为在请求体内, 所以有一定安全性; GET 因为在 URL 中, 可以通过历史记录、缓存查到数据信息
- 数据类型不同
    - GET 只允许 ASCII 码
    - POST 无限制
- 无害型不同
    - GET, 刷新、后退等浏览器操作，请求无害
    - POST 请求可能重复提交表单
- 安全性不同
    - GET 请求安全且冥等
    - POST 请求不安全且不冥等
    - 概念
        - 冥等: 请求多次和请求一次结果一样
        - 安全: 只读性, 使用这个方法不会引起服务器改变

### PUT 和 POST 都是给服务器新增数据, 有什么区别?
- PUT 是冥等的, POST 是非冥等的
- PUT 通常是指向单一资源, POST 可以指向资源集合

### PUT 和 PATCH 的区别
- 相同点: 都能更新资源
- 不同点
    - PUT 请求参数，需要传递的是一个实体
    - PATCH 请求参数，可以只是需要修改的一个/多个数据

### HTTP 请求报文有哪些组成？
- 请求行
    - 请求方法字段
    - URL字段
    - HTTP协议版本字段
- 请求头部: 由 **关键字/值** 对组成
    - User-Agent: 产生请求的浏览器类型
    - Accept: 客户端可识别的内容类型列表
    - Host: 请求的主机名
        - 允许多个域名同处同一个ip, 即：虚拟主机
- 空行
- 请求体
    - POST/PUT 请求携带的数据

### HTTP 响应报文有哪些 ?
- 响应行: 由协议版本，状态码和 *状态码的原因短语* 组成, 例如`HTTP/1.1 200 OK`
- 响应头: 响应部首组成
- 空行
- 响应体: 服务器响应数据

### HTTP 的 keep-alive 是干么的?
- HTTP/1.0 规定通过设置 *Connection: keep-alive* 来保持长连接
    - 长连接: 利用重用连接机制，告诉响应体在请求完成后不要关闭连接，下次请求继续复用这个链接
- 长连接的好处?
    - 较少的内存和 CPU 使用
    - 允许请求和应答的 HTTP [管线化](https://zh.wikipedia.org/wiki/HTTP%E7%AE%A1%E7%B7%9A%E5%8C%96)
        - 管线化: 将多个 HTTP 请求批量发送到服务器, 发送过程中不需要等待
    - 降低 [拥塞控制](https://zh.wikipedia.org/wiki/%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6)
        - 拥塞控制: 调整 TCP 单次连接发送的分组数量（**单次发送量**）的算法
    - 减少了后续请求的延迟
    - 报告错误无须关闭 TCP 连接

### 同样是重定向, 307、302、303的区别
- 302: http/1.0 的协议状态码
- 303: http/1.1 的协议状态码，表示客户端应该以 `GET` 方式请求，会把 `POST` 请求改为 `GET`
- 307: http/1.1 的协议状态码，遵照浏览器标准，不会更改请求方式

### 状态码的规律是什么？
- 1**：请求未成功
- 2**：请求成功
- 3**：请求重定向
    - 302：请求缓存
- 4**：请求出错
    - 404：请求地址丢失
- 5**：服务器错误

## 参考资料
- [HTTP协议](https://www.cxymsg.com/guide/http.html)
